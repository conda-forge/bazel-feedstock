From bec29cce189d51347a1eb1e2ad539d69a9860060 Mon Sep 17 00:00:00 2001
From: "Uwe L. Korn" <uwe.korn@quantco.com>
Date: Thu, 27 Jun 2024 17:13:36 +0200
Subject: [PATCH 11/11] Update maven_install.json

---
 MODULE.bazel                               |  2 +-
 maven_install.json                         | 60 +++++++++++++++++++---
 third_party/systemlibs/protobuf/java/BUILD |  5 ++
 3 files changed, 58 insertions(+), 9 deletions(-)
 create mode 100644 third_party/systemlibs/protobuf/java/BUILD

diff --git a/MODULE.bazel b/MODULE.bazel
index 476d824..a66d7b5 100755
--- a/MODULE.bazel
+++ b/MODULE.bazel
@@ -197,7 +197,7 @@ maven.install(
         "org.eclipse.jgit:org.eclipse.jgit",
     ],
     # Don't forget to change this to back to True before submitting your change.
-    fail_if_repin_required = True,
+    fail_if_repin_required = False,
     lock_file = "//:maven_install.json",
     repositories = [
         "https://repo1.maven.org/maven2",
diff --git a/maven_install.json b/maven_install.json
index 3728003..f4b1414 100755
--- a/maven_install.json
+++ b/maven_install.json
@@ -1,15 +1,11 @@
 {
   "__AUTOGENERATED_FILE_DO_NOT_MODIFY_THIS_FILE_MANUALLY": "THERE_IS_NO_DATA_ONLY_ZUUL",
-  "__INPUT_ARTIFACTS_HASH": -217313117,
-  "__RESOLVED_ARTIFACTS_HASH": 1427942467,
+  "__INPUT_ARTIFACTS_HASH": 1197384331,
+  "__RESOLVED_ARTIFACTS_HASH": 640720026,
   "conflict_resolution": {
-    "com.google.code.gson:gson:2.8.9": "com.google.code.gson:gson:2.9.0",
-    "com.google.errorprone:error_prone_annotations:2.3.2": "com.google.errorprone:error_prone_annotations:2.22.0",
     "com.google.guava:guava:31.1-jre": "com.google.guava:guava:32.1.1-jre",
     "com.google.j2objc:j2objc-annotations:1.3": "com.google.j2objc:j2objc-annotations:2.8",
-    "com.google.truth:truth:1.1.2": "com.google.truth:truth:1.1.3",
-    "org.checkerframework:checker-qual:3.19.0": "org.checkerframework:checker-qual:3.33.0",
-    "org.mockito:mockito-core:4.3.1": "org.mockito:mockito-core:5.4.0"
+    "org.checkerframework:checker-qual:3.19.0": "org.checkerframework:checker-qual:3.33.0"
   },
   "artifacts": {
     "aopalliance:aopalliance": {
@@ -240,6 +236,24 @@
       },
       "version": "1.34.1"
     },
+    "com.google.protobuf:protobuf-java": {
+      "shasums": {
+        "jar": "e90d8ddb963b20a972a6a59b5093ade2b07cbe546cab3279aaf4383260385f58"
+      },
+      "version": "3.25.3"
+    },
+    "com.google.protobuf:protobuf-java-util": {
+      "shasums": {
+        "jar": "b813c8d6d554cb71c1e82d171d7f80730ae74222a185c863cbedf05072c88155"
+      },
+      "version": "3.25.3"
+    },
+    "com.google.protobuf:protobuf-javalite": {
+      "shasums": {
+        "jar": "101fd28d111ad1b95550ba45ab295cd1e8e8eb0676f66ed6705adba6042597ff"
+      },
+      "version": "3.21.1"
+    },
     "com.google.testing.compile:compile-testing": {
       "shasums": {
         "jar": "92cfbee5ad356a403d36688ab7bae74be65db9a117478ace34ac3ab4d1f9feb9"
@@ -760,6 +774,9 @@
       "com.google.http-client:google-http-client",
       "com.google.http-client:google-http-client-gson"
     ],
+    "com.google.api.grpc:proto-google-common-protos": [
+      "com.google.protobuf:protobuf-java"
+    ],
     "com.google.auth:google-auth-library-oauth2-http": [
       "com.google.auth:google-auth-library-credentials",
       "com.google.auto.value:auto-value-annotations",
@@ -809,6 +826,7 @@
       "com.google.errorprone:error_prone_check_api",
       "com.google.errorprone:error_prone_type_annotations",
       "com.google.guava:guava",
+      "com.google.protobuf:protobuf-java",
       "io.github.eisop:dataflow-errorprone",
       "javax.inject:javax.inject",
       "org.pcollections:pcollections"
@@ -866,6 +884,14 @@
       "com.google.http-client:google-http-client",
       "com.google.http-client:google-http-client-gson"
     ],
+    "com.google.protobuf:protobuf-java-util": [
+      "com.google.code.findbugs:jsr305",
+      "com.google.code.gson:gson",
+      "com.google.errorprone:error_prone_annotations",
+      "com.google.guava:guava",
+      "com.google.j2objc:j2objc-annotations",
+      "com.google.protobuf:protobuf-java"
+    ],
     "com.google.testing.compile:compile-testing": [
       "com.google.auto.value:auto-value",
       "com.google.auto:auto-common",
@@ -877,6 +903,7 @@
       "com.google.auto.value:auto-value-annotations",
       "com.google.code.findbugs:jsr305",
       "com.google.guava:guava",
+      "com.google.protobuf:protobuf-java",
       "junit:junit",
       "org.yaml:snakeyaml"
     ],
@@ -895,6 +922,7 @@
       "com.google.auto.value:auto-value-annotations",
       "com.google.errorprone:error_prone_annotations",
       "com.google.guava:guava",
+      "com.google.protobuf:protobuf-java",
       "com.google.truth.extensions:truth-liteproto-extension",
       "com.google.truth:truth",
       "org.checkerframework:checker-qual"
@@ -909,7 +937,8 @@
     ],
     "com.google.turbine:turbine": [
       "com.google.errorprone:error_prone_annotations",
-      "com.google.guava:guava"
+      "com.google.guava:guava",
+      "com.google.protobuf:protobuf-java"
     ],
     "com.ryanharter.auto.value:auto-value-gson-extension": [
       "com.google.auto.value:auto-value",
@@ -961,12 +990,14 @@
       "com.google.api.grpc:proto-google-common-protos",
       "com.google.code.findbugs:jsr305",
       "com.google.guava:guava",
+      "com.google.protobuf:protobuf-java",
       "io.grpc:grpc-api",
       "io.grpc:grpc-protobuf-lite"
     ],
     "io.grpc:grpc-protobuf-lite": [
       "com.google.code.findbugs:jsr305",
       "com.google.guava:guava",
+      "com.google.protobuf:protobuf-javalite",
       "io.grpc:grpc-api"
     ],
     "io.grpc:grpc-stub": [
@@ -1504,6 +1535,16 @@
       "com.google.api.client.auth.oauth2",
       "com.google.api.client.auth.openidconnect"
     ],
+    "com.google.protobuf:protobuf-java": [
+      "com.google.protobuf",
+      "com.google.protobuf.compiler"
+    ],
+    "com.google.protobuf:protobuf-java-util": [
+      "com.google.protobuf.util"
+    ],
+    "com.google.protobuf:protobuf-javalite": [
+      "com.google.protobuf"
+    ],
     "com.google.testing.compile:compile-testing": [
       "com.google.testing.compile"
     ],
@@ -2430,6 +2471,9 @@
       "com.google.j2objc:j2objc-annotations",
       "com.google.jimfs:jimfs",
       "com.google.oauth-client:google-oauth-client",
+      "com.google.protobuf:protobuf-java",
+      "com.google.protobuf:protobuf-java-util",
+      "com.google.protobuf:protobuf-javalite",
       "com.google.testing.compile:compile-testing",
       "com.google.testparameterinjector:test-parameter-injector",
       "com.google.truth.extensions:truth-java8-extension",
diff --git a/third_party/systemlibs/protobuf/java/BUILD b/third_party/systemlibs/protobuf/java/BUILD
new file mode 100644
index 0000000..99667c0
--- /dev/null
+++ b/third_party/systemlibs/protobuf/java/BUILD
@@ -0,0 +1,5 @@
+java_library(
+    name = "core",
+    exports = ["@maven_protobuf//:com_google_protobuf_protobuf_java"],
+    visibility = ["//visibility:public"],
+)
